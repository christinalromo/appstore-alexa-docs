Fireデバイスには、地域と言語に関するデフォルトのロケールが用意されており、プログラムで問い合わせることができます。特定の端末向けに設計されたリソースではなく、ロケールに対応したリソースを提供することで、アプリの普及を促進し、異なるロケールでのユーザーエクスペリエンスを向上できます。たとえば、アプリを実行する端末のピクセル密度に応じて複数のビットマップを提供している方もいるでしょう。

このモデルを拡張して、ロケールごとに異なるビットマップを提供することができます。各ロケールのリソースを適切なフォルダーに配置すると、ランタイム時に適切なリソースが検出されます。アプリをローカライズする場合は、この方法でリソースファイルを作成することをお勧めします。

* TOC
{:toc}

## 文字列リソース

`strings.xml`ファイルには、アプリのユーザーに表示される文字列が保持されています。以下は、`strings.xml`の定義のサンプルです。

```xml
<?xml version="1.0" encoding="utf-8"?>
	<resources>
  		<string name="hello">Hello!</string>
	</resources>
```

ソースコードに次のように記述すると、"hello" という名前の文字列リソースを参照できます。

```java
String helloText = getString(R.id.hello);
```

layout.xmlやAndroidManifest.xmlなどのXMLファイルでは、次のように記述するとリソースを参照できます。

```java
<application android:label="@string/hello" >
```

ロケールごとに文字列を変更するには、そのロケールのデフォルト以外のリソースが含まれた`strings.xml`ファイルを作成し、そのファイルを`values-xx-rYY`という名前のディレクトリに置きます (`xx`にはISO-639 の言語コード、`YY`にはISO-3166-1 の地域コードが入ります)。以下にディレクトリ例をいくつか挙げます。

```java
	/res
	/values         (デフォルトのディレクトリ。必ず、参照先がすべて存在することを確認してください)
	/values-fr      (フランス語の文字列が含まれています。地域は指定されていません)
	/values-de      (ドイツ語の文字列が含まれています。地域は指定されていません)
	/values-en-rGB  (英国用の英語の文字列が含まれています)
```

システムでは、文字列参照を検索する際に、まず地域と言語が指定されたリソースが検索されます。その後、言語が合致するリソースが検索されます。ロケール固有のファイルで指定されていないリソースについては、デフォルトの`strings.xml`が使用されます。たとえば、"hello" という文字列を`values-en-rGB`に置いていない場合は、デフォルトの "hello" 文字列が使用されます。

{% include important.html content="デフォルトのディレクトリには、すべての文字列参照が含まれていることを確認してください。デフォルトのディレクトリで検索しても参照が見つからない場合は、アプリが強制終了されます。" %}

## ドローアブルリソース

多くのアプリでは、メニュー、価格表、または使用説明書が、ビットマップなどのグラフィックデータとして記述されています。次の例は、ドローアブルリソースに対して動的なリソース処理を提供するためのフォルダー構造を示しています。

```java
/res
  /drawable
  /drawable-fr      (フランス語の文字列が含まれています。地域は指定されていません)
  /drawable-de      (ドイツ語の文字列が含まれています。地域は指定されていません)
```

ピクセル密度別のリソースが含まれたdrawableディレクトリが複数ある場合は、ディレクトリ構造を拡張して言語を示すことができます。次の例は、言語とピクセル密度を結び付ける方法を示しています。ディレクトリ名に複数の修飾子を指定する場合は、Androidドキュメントの[こちらの表](http://developer.android.com/guide/topics/resources/providing-resources.html#table2)に記載された順序で指定する必要があります。

```java
  /drawable-fr-ldpi
  /drawable-fr-mdpi
```

同じビットマップのコピーを複数のフォルダーに置くなど、ドローアブルアセットを再利用する場合は、アセットにリンクするためのXMLファイルを作成します。たとえば、デフォルトの`drawable`ディレクトリ内のリソースを指す "background" という名前のリソースが英国のロケールに必要な場合、次の内容を含む`/drawable-en-rGB/background.xml`ファイルを作成できます。`drawable-en-GB`ディレクトリに解決される "background" への参照では、自動的に`/drawable/background_common`リソースが使用されます。

```xml
<?xml version="1.0" encoding="utf-8"?>
  <bitmap xmlns:android="http://schemas.android.com/apk/res/android"
        android:src="@drawable/background_common" />
```

## 通貨リソース

通貨データは、ロケールごとに形式を指定できます。次の例に示すように、通貨記号と、整数部分と少数部分の区切り記号は重要な要素です。

```java
  €19,95   // ヨーロッパの一部のロケール
  $19.95   // 北米
```

次の例は、[アプリ内課金](https://developer.amazon.com/in-app-purchasing)アイテムの価格を地域の形式で表示する方法を示しています。各地域のストアにおけるアイテムの価格をアプリに表示するには、次のように記述します。これは価格の表示形式を指定するだけで、通貨は変換されません。

```java
NumberFormat nf = NumberFormat.getCurrencyInstance(Locale.getDefault());
  String formattedPrice = nf.format(19.99f);
```

デフォルト以外のロケールを使用する場合は、言語と地域の両方を使用して定義してください (例: `en_US`、`fr_FR`)。言語と地域の両方を使用しないと、正しい形式で表示されません。フランス語のように、同じ言語を第一言語として使用するすべての国で同じ通貨が使用されるわけではないためです。
